<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Assignment 1</title>
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <style>
    body {
      background-color: #ffdab9;
      /* pastel peach color */
      margin: 0;
      padding: 0;
    }

    #title {
      text-align: center;
      font-size: 24px;
      padding: 20px 0;
    }

    #chart-container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: transparent;
      /* Ensure transparent background */
    }

    #chart {
      border: 2px solid whitesmoke;
      background-color: white;
    }
  </style>
</head>

<body>

  <div id="title">Assignment 1</div>
  <div id="chart-container">
    <svg id="chart" width="800" height="400"></svg>
  </div>

  <script type="text/javascript">
    // Declare and initialize the dataset
    var dataset = d3.range(10).map(function () {
      return Math.round(Math.random() * 100);
    });

    // Add an SVG
    var svg = d3.select("#chart")
      .attr("width", 800)
      .attr("height", 400);

    // Add Rectangle
    var rectangles = svg.selectAll("rect")
      .data(dataset)
      .enter().append("rect")
      .attr("x", () => Math.random() * 650) // Random x coordinate within SVG width
      .attr("y", () => Math.random() * 250) // Random y coordinate within SVG height
      .attr("width", () => Math.random() * 100 + 50) // Random width
      .attr("height", () => Math.random() * 100 + 50) // Random height
      .attr("transform", (d, i) => "rotate(" + Math.random() * 135 + ")") // Random rotation
      .style("fill", () => getRandomColor()); // Random color

    // Add Circles
    var circles = svg.selectAll("circle")
      .data(dataset)
      .enter().append("circle")
      .attr("cx", () => Math.random() * 700) // Random x coordinate within SVG width
      .attr("cy", () => Math.random() * 350) // Random y coordinate within SVG height
      .attr("r", () => Math.random() * 50 + 20) // Random radius
      .style("fill", () => getRandomColor()); // Random color

    // Add Lines
    var lines = svg.selectAll("line")
      .data(dataset)
      .enter().append("line")
      .attr("x1", (d, i) => Math.random() * 800) // Random x1 coordinate within SVG width
      .attr("y1", (d, i) => Math.random() * 400) // Random y1 coordinate within SVG height
      .attr("x2", (d, i) => Math.random() * 800) // Random x2 coordinate within SVG width
      .attr("y2", (d, i) => Math.random() * 400) // Random y2 coordinate within SVG height
      .attr("stroke-width", 3)
      .style("stroke", () => getRandomColor()); // Random color

    // Function to generate a random color
    function getRandomColor() {
      var letters = "0123456789ABCDEF";
      var color = "#";
      for (var i = 0; i < 6; i++) {
        color += letters[Math.floor(Math.random() * 16)];
      }
      return color;
    }
    // Add Polygons
    var polygonPoints = [
      [150, 280],
      [230, 280],
      [180, 350]
    ];

    var poly1 = svg.append("polygon")
      .attr("points", polygonPoints.map(point => point.join(',')).join(' '))
      .style("fill", "green");

    var polygon2 = [
      [689, 280],
      [600, 285],
      [745, 360],
      [700, 366],
    ];


    var poly2 = svg.append("polygon")
      .attr("points", polygon2.map(point => point.join(',')).join(' '))
      .style("fill", "cornflowerblue");

    var polygon3 = [
      [434, 295],
      [420, 305],
      [475, 380],
      [530, 286],
      [470, 360]

    ];

    var poly3 = svg.append("polygon")
      .attr("points", polygon3.map(point => point.join(',')).join(' '))
      .style("fill", "cadetblue");

    // Add more unique polygons
    var polygon4 = [
      [100, 50],
      [90, 180],
      [180, 80],
      [60, 150],
    ];

    var poly4 = svg.append("polygon")
      .attr("points", polygon4.map(point => point.join(',')).join(' '))
      .style("fill", "lightcoral");

    var polygon5 = [
      [550, 50],
      [600, 80],
      [630, 150],
      [570, 180],
    ];

    var poly5 = svg.append("polygon")
      .attr("points", polygon5.map(point => point.join(',')).join(' '))
      .style("fill", "lightsteelblue");

    var polygon6 = [
      [350, 150],
      [400, 100],
      [460, 150],
      [400, 200],
    ];

    var poly6 = svg.append("polygon")
      .attr("points", polygon6.map(point => point.join(',')).join(' '))
      .style("fill", "lightgreen");

    // Function to update shapes with transitions
    function updateShapes() {
      rectangles.transition().attr("x", () => Math.random() * 650)
        .attr("y", () => Math.random() * 250)
        .attr("width", () => Math.random() * 100 + 50)
        .attr("height", () => Math.random() * 100 + 50)
        .attr("transform", (d, i) => "rotate(" + Math.random() * 135 + ")")
        .style("fill", getRandomColor())
        .delay(1000)
        .duration(1500);

      circles.transition().attr("cx", () => Math.random() * 700)
        .attr("cy", () => Math.random() * 350)
        .attr("r", () => Math.random() * 50 + 20)
        .style("fill", () => getRandomColor())
        .delay(1000)
        .duration(2000);

      lines.transition().attr("x1", () => Math.random() * 800)
        .attr("y1", () => Math.random() * 400)
        .attr("x2", () => Math.random() * 800)
        .attr("y2", () => Math.random() * 400)
        .style("stroke", () => getRandomColor())
        .delay(1000)
        .duration(3000);

      poly1.transition().style("fill", () => getRandomColor())
        .delay(1000)
        .duration(500);
      poly2.transition().style("fill", () => getRandomColor())
        .delay(1000)
        .duration(1000);
      poly3.transition().style("fill", () => getRandomColor())
        .delay(1000)
        .duration(1500);
      poly4.transition().style("fill", () => getRandomColor())
        .delay(1000)
        .duration(2000);
      poly5.transition().style("fill", () => getRandomColor())
        .delay(1000)
        .duration(2500);
      poly6.transition().style("fill", () => getRandomColor())
        .delay(1000)
        .duration(3000);
    }

    // Call updateShapes function periodically
    setInterval(updateShapes, 1500);
  </script>
</body>

</html>