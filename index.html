<!DOCTYPE html>
<div id="container"></div>
<script type="module">

import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";

// Declare the chart dimensions and margins.
const width = 640;
const height = 400;
var angle = 0;

console.log(d3); // test if d3 is loaded

// Create the SVG container.
const svg = d3.create("svg")
    .attr("width", width)
    .attr("height", height);

  // Add Lines
svg.append("line")
  .attr("x1",55)
  .attr("y1",55)
  .attr("x2",150)
  .attr("y2",150)
  .attr("stroke","black")

  // Add Rectangles
svg.append("rect")
  .attr("x",10)
  .attr("y",10)
  .attr("width",100)
  .attr("height",100)
  .attr("fill","red")
  .on('click',function(){
    const that = this;
    d3.interval(function() {
      angle += 1;
      console.log(angle);
      d3.select(that)
        .attr("transform", "rotate(" + angle + "," + 60 + "," + 60 + ")");
    }, 10);
  });

  // Add Circles
svg.append("circle")
  .attr("cx",150)
  .attr("cy",150)
  .attr("r",25)
  .attr("fill","steelblue")
  .on('click', function() {
    d3.select(this)
      .transition()
      .duration(2000)
      .attr("fill","red");
  });

  // Add Polygons
svg.append("polygon")
  .attr("points","50,160 55,180 70,180 60,190 65,205 50,195 35,205 40,190 30,180 45,180")


// Append the SVG element.
container.append(svg.node());

</script>