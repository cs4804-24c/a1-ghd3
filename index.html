<!DOCTYPE html>
<div id="container"></div>
<script type="module">

import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";

// Declare the chart dimensions and margins.
const width = 640;
const height = 1000;
var angle = 0;

console.log(d3); // test if d3 is loaded

// Create the SVG container.
const svg = d3.create("svg")
    .attr("width", width)
    .attr("height", height);

    //Left Arm
svg.append("rect")
    .attr("x", 195)
    .attr("y", 325)
    .attr("width", 30)
    .attr("height", 100)
    .attr("transform", "rotate(-65 190 325)")
    .attr("stroke", "blue")
    .attr("stroke-width", 2)
    .attr("stroke-dasharray", "1,1")
    .attr("fill","tan")

svg.append("rect")
    .attr("x", 295)
    .attr("y", 365)
    .attr("width", 30)
    .attr("height", 120)
    .attr("transform", "rotate(-155 290 365)")
    .attr("stroke", "blue")
    .attr("stroke-width", 2)
    .attr("stroke-dasharray", "1,1")
    .attr("fill","tan")

    //Body
svg.append("rect")
    .attr("x", 175)
    .attr("y", 280)
    .attr("width", 50)
    .attr("height", 200)
    .attr("fill","white")
    .attr("stroke", "black")
    .attr("stroke-width", 7);

    //Head
svg.append("circle")
    .attr("cx", 200)
    .attr("cy", 200)
    .attr("r", 90)
    .attr("fill","tan")

    //Legs
svg.append("rect")
    .attr("x", 172)
    .attr("y", 450)
    .attr("width", 33)
    .attr("height", 200)
    .attr("transform", "rotate(10 175 450)")
    .attr("fill","darkblue")

svg.append("rect")
    .attr("x", 195)
    .attr("y", 455)
    .attr("width", 33)
    .attr("height", 200)
    .attr("transform", "rotate(-10 190 450)")
    .attr("fill","darkblue")

    //Right Arm
const rightArm = svg.append("rect")
    .attr("x", 195)
    .attr("y", 335)
    .attr("width", 30)
    .attr("height", 100)
    .attr("transform", "rotate(-55 190 335)")
    .attr("stroke", "red")
    .attr("stroke-width", 2)
    .attr("stroke-dasharray", "1,1")
    .attr("fill","tan")

    //Animation
function animateRightArm() {
    rightArm.transition()
        .duration(1000)
        .attr("transform", "rotate(-90 190 335) translate(0 10)")
        .on("end", function() {
            rightArm.transition()
                .duration(1000)
                .attr("transform", "rotate(-55 190 335)")
                .on("end", animateRightArm);
        });
}
animateRightArm();

const rightArm2 = svg.append("rect")
    .attr("x", 275)
    .attr("y", 385)
    .attr("width", 30)
    .attr("height", 120)
    .attr("transform", "rotate(-125 275 385)")
    .attr("stroke", "red")
    .attr("stroke-width", 2)
    .attr("stroke-dasharray", "1,1")
    .attr("fill","tan")

    //Animation
function animateRightArm2() {
  rightArm2.transition()
        .duration(1000)
        .attr("height", 150)
        .attr("transform", "rotate(-100 275 385) translate(50 35)")
        .on("end", function() {
          rightArm2.transition()
                .duration(1000)
                .attr("height", 120)
                .attr("transform", "rotate(-125 275 385)")
                .on("end", animateRightArm2);
        });
}
animateRightArm2();

    //Punching Bag
svg.append("line")
    .attr("x1", 525)
    .attr("y1", 0)
    .attr("x2", 525)
    .attr("y2", 100)
    .attr("stroke", "black")

var hexPoints = [
      [475, 100],
      [570, 100],
      [600, 150],
      [600, 500],
      [575, 550],
      [475, 550],
      [450, 500],
      [450, 150]
    ];
svg.append("polygon")
    .attr("points", hexPoints.join(" "))
    .style("fill", "black")

// Append the SVG element.
container.append(svg.node());

</script>